---
layout: post
title: "New users/groups from base-files 0.81"
date: 2013-02-25
comments: true
---

Starting from base-files-0.81, the dbus and avahi system accounts and the network groups are added by default to `/etc/passwd` and `/etc/group` as follows:

    # /etc/group
    network:x:21:
    dbus:x:22:
    avahi:x:23:

    # /etc/passwd
    dbus:x:22:22:dbus unprivileged user:/:/sbin/nologin
    avahi:x:23:23:avahi unprivileged user:/:/sbin/nologin

After running a full system upgrade with `xbps-install(8)` two new files will be created:

    /etc/group.new-0.81_1
    /etc/passwd.new-0.81_1

You should diff your current files against these files generated by the `base-files-0.81` update and merge the new changes back. After merging the changes make sure the shadowed files are also updated:

    # pwconv && grpconv

and reconfigure the `dbus` package to set appropiate perms to the setuid binary:

    # xbps-reconfigure -f dbus
